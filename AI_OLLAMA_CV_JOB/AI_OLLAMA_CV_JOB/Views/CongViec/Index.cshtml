@{
    ViewData["Title"] = "Kết quả chạy embedding";
}

<h2>Kết quả chạy script</h2>

@if (!string.IsNullOrEmpty(ViewBag.Output))
{
    <pre>@ViewBag.Output</pre>
}
@if (!string.IsNullOrEmpty(ViewBag.Error))
{
    <pre style="color:red;">@ViewBag.Error</pre>
}

<h2>Dữ liệu đã lưu (saved_vectors.txt)</h2>

@if (!string.IsNullOrEmpty(ViewBag.SavedData))
{
    var dataSections = ((string)ViewBag.SavedData).Split(new[] { "=== " }, StringSplitOptions.RemoveEmptyEntries);
    foreach (var dataSection in dataSections)
    {
        var lines = ((string)dataSection).Split('\n');
        <h3>@lines[0]</h3>
        <pre>
            @foreach (var line in lines.Skip(1))
            {
                @line
            <br />
            }
                </pre>
    }
}
else
{
    <p>Không có dữ liệu được lưu.</p>
}
